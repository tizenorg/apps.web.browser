project(HistoryUI)

set(HistoryUI_SRCS
    HistoryUI.cpp
    HistoryPeriod.cpp
    HistoryDaysListManager/HistoryDaysListManagerMob.cpp
    HistoryDaysListManager/mob/HistoryDayItemMob.cpp
    HistoryDaysListManager/mob/WebsiteHistoryItemMob.cpp
    HistoryDaysListManager/mob/WebsiteHistoryVisitItemMob.cpp
    HistoryDaysListManager/HistoryDaysListManagerTv.cpp
    HistoryDaysListManager/tv/HistoryDayItemTv.cpp
    HistoryDaysListManager/tv/WebsiteHistoryItem/WebsiteHistoryItemTv.cpp
    HistoryDaysListManager/tv/WebsiteHistoryItem/WebsiteHistoryItemTitleTv.cpp
    HistoryDaysListManager/tv/WebsiteHistoryItem/WebsiteHistoryItemVisitItemsTv.cpp
    )

include(Coreheaders)
include(EFLHelpers)

include_directories(${CMAKE_SOURCE_DIR}/services/FavoriteService)

add_library(${PROJECT_NAME} SHARED ${HistoryUI_SRCS})

if(TIZEN_BUILD)
    target_link_libraries(${PROJECT_NAME} ${pkgs_LDFLAGS})
endif(TIZEN_BUILD)

install(TARGETS ${PROJECT_NAME}
            LIBRARY DESTINATION services
            ARCHIVE DESTINATION services/static)

include(EDCCompile)
if (${PROFILE} MATCHES "mobile")    # mobile profile
    set(edcFiles
        History_mob.edc
        HistoryDaysList_mob.edc
        )
else (${PROFILE} MATCHES "mobile")  # tv profile
    set(edcFiles
        History.edc
        HistoryDaysList.edc
        WebsiteHistoryItem.edc
        WebsiteHistoryItemTitle.edc
        WebsiteHistoryItemVisitItems.edc
        )
endif (${PROFILE} MATCHES "mobile")

foreach(edec ${edcFiles})
    string(REGEX REPLACE "(_mob)?.edc" ".edj" target_name ${edec})
    EDJ_TARGET(${target_name}
        ${CMAKE_CURRENT_SOURCE_DIR}/edc/${edec}
        ${CMAKE_CURRENT_BINARY_DIR})
endforeach(edec)
